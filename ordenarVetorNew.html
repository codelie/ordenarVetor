 <!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Ordenando Vetor com Maior e Menor valor com Recursividade</title>
</head>

<body>
   
<canvas id="canvas" width="1200" height="500"></canvas>

<script type="application/javascript">	
	
	var vetorAux = [];
	var qtdComparacoes = 0;
	
	function ordenarVetor(vetorRecebido){
	
		if (vetorRecebido.length == 0) {
			return;	
		}	
		if (  vetorRecebido.length == undefined){
			return;
		}

		var vetorOrdenado = [];	
//		setTimeout(mostraGrafico(vetorRecebido,"canvas","rgb(200,200,0)",0), 3000)		
//		mostraGrafico(vetorRecebido,"canvas","rgb(200,200,0)",0);

		if (vetorRecebido.length == 1) {

			vetorOrdenado.push( vetorRecebido[0] );	
			vetorAux.push( vetorRecebido[0] );	

			vetorRecebido.splice(0,1);

			return vetorOrdenado[0];	
		}		
	
		var ValorMenor;
		var valorMaior;
		var endMenor;
		var endMaior;
		var posicaoX = 0;
		var posicaoY = 0;
		
		endMenor = posicaoX;
		endMaior = posicaoY;
		while ( posicaoY <= vetorRecebido.length ) {

			if ( vetorRecebido[endMenor] >= vetorRecebido[posicaoY]) {
				endMenor = posicaoY;
			}
			if ( vetorRecebido[endMaior] < vetorRecebido[posicaoY]) {

				endMaior = posicaoY;
			}
;			qtdComparacoes = qtdComparacoes + 1;
			posicaoY = posicaoY +1;
			
		}

		valorMenor = vetorRecebido[endMenor];
		valorMaior = vetorRecebido[endMaior];
		if (endMenor > endMaior) {
			
			vetorOrdenado.unshift ( valorMenor ); 
			vetorOrdenado.push( valorMaior );

			vetorRecebido.splice(endMenor,1);
			vetorRecebido.splice(endMaior,1);
			
		} else {

			vetorOrdenado.push( valorMaior );
			vetorOrdenado.unshift ( valorMenor ); 
			
			vetorRecebido.splice(endMaior,1);
			vetorRecebido.splice(endMenor,1);
		}

		if (  vetorRecebido.length != undefined){

			ordenarVetor(vetorRecebido);
			
			vetorAux.push( vetorOrdenado[1] );
			vetorAux.unshift ( vetorOrdenado[0] ); 
			
		}
		else{

			return undefined;
		}

//		qtdComparacoes = qtdComparacoes -1;
//		document.write('Comparacoes: '+qtdComparacoes+'  Valores Parciais: '+vetorAux+'<br>');
//		mostraGrafico(vetorAux);

		return vetorAux;
	
	}
	
//	var vetorOriginal = [14,7,4,1,0.3,8,17,0.1,11,15,0.8,13,0.75,12,6,3,0.9,0.2,5,9,4,10,0.4,16,2,0.5,7];
//	var vetorOriginal = ['abóbora','abacaxi','banana','abil','alface','xuxu'];
   var vetorOriginal = [14,17,45,21,35,11,62,25,13,12,6,20,3,77,19,55,30,9,22,4,18,1,23,10,16,2,24,7,14,17,45,21,35,11,62,25,13,12,6,20,3,77,19,55,30,9,22,4,18,1,23,10,16,2,24,7,14,17,45,21,35,11,62,25,13,12,6,20,3,77,19,55,30,9,22,4,18,1,23,10,16,2,24,7,14,17,45,21,35,11,62,25,13,12,6,20,3,77,19,55,30,9,22,4,18,1,23,10,16,2,24,7,14,17,45,21,35,11,62,25,13,12,6,20,3,77,19,55,30,9,22,4,18,1,23,10,16,2,24,7];
//	var vetorOriginal = [14,7,4,1,0.3,8,17,0.1,11,15,0.8,13,0.75,12,6,3,0.9,0.2,5,9,4,10,0.4,16,2,0.5,7,14,7,4,1,0.3,8,17,0.1,11,15,0.8,13,0.75,12,6,3,0.9,0.2,5,9,4,10,0.4,16,2,0.5];	

//	document.write('Vetor Original a ser Enviado: '+vetorOriginal+'<br>');

	mostraGrafico(vetorOriginal,"canvas","rgb(200,0,0)",5);
	mostraGrafico(ordenarVetor(vetorOriginal),"canvas","rgb(100,100,0)",10);	

//	document.write('<br>'+'Vetor Original: '+vetorOriginal+'<br>');
//	document.write('Vetor Original Número Elementos: '+vetorOriginal.length+'<br>');
//	document.write( 'Vetor Final Ordenado: ' + ordenarVetor(vetorOriginal).length +'<br>' );
	
	
	function draw(intervalo,tamanho,largura,valor,local,cor) {
	  var canvas = document.getElementById(local);
	  if (canvas.getContext) {
		var ctx = canvas.getContext("2d");

		ctx.fillStyle = cor;
		ctx.fillRect (intervalo, tamanho, largura, valor * 10);
		
//linha		
//		ctx.moveTo(10,10);//ponto inicial
//		ctx.lineTo(150,50);//próximo ponto
//		ctx.stroke()		

//circulo
//		var c=document.getElementById("idCanvas");
//		var ctx=c.getContext("2d");
//		ctx.arc(70,18,15,0,Math.PI * 2);
//		ctx.stroke();

//retangulo
//		var c=document.getElementById("idCanvas");
//		var ctx=c.getContext("2d");
//		ctx.rect(20,20,150,50);
//		ctx.stroke();

//imagem
//		var c=document.getElementById("idCanvas");
//		var ctx=c.getContext("2d");
//		var img=new Image();
//		img.onload = function(){
//		ctx.drawImage(img,0,0);
//		};
//		img.src="img.png";

//			ctx.fillStyle = "#079905";
//			ctx.fillRect (50, 30, largura, valor * 10);
//			ctx.lineWidth = 5

	  }
	}

	function mostraGrafico(vetor,local,cor,inicio){
		var tamanhoVetorRecebido = vetor.length;	
		var largura = parseInt(1200 / tamanhoVetorRecebido);
	
		for (i=0;i <= tamanhoVetorRecebido;i++) {
			//larguraAux = i * largura +  inicio;
			draw(largura*i + inicio,500 - vetor[i]*5,largura - 10,vetor[i],local,cor);
		}
	}

</script>

</body>
</html>